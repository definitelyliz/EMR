<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      .column {
        float: left;
        width: 50%;
        padding: 10px;
      }
      
      .row:after {
        content: "";
        display: table;
        clear: both;
      }

      .container {
        display: flex;
        justify-content: flex-end;
       }

      .content {
          text-align: center;
          color: black;
      }
      </style>
    <title>Pdf Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body style="margin: 5%; padding: 0%;">

  <h2 style="font-weight: 900; text-align: center;color: black;">Dr. Rafaela Flores, M.D., Ph.D., M.S.</h2>
  <p style="text-align: center;">123 Maginhawa Street, Barangay Sikatuna, Quezon City, Metro Manila, PH<br/> 
    rafaelaflores@gmaill.com | +63 987 420 6591 | (02) 8765-4321</p>

  <hr style="height: 3px; border-width: 0; color: rgb(0, 0, 0); background-color: rgb(0, 0, 0)"/>

  <div class="row" style="color: black;">
    <div class="column">
      <p><strong>Name: </strong> <span id="ID1"></span> </p>
      <p><strong>Address: </strong> <span id="ID2"></span> </p>
    </div>
    <div class="column">
      <p><strong>Age: </strong> <span id="ID3"></span> </p>
      <p><strong>Sex: </strong> <span id="ID4"></span> </p>
  </div>

  <div align="right">
    <p id="demo"></p>
    <script>
      const d = new Date();
      document.getElementById("demo").innerHTML = d.toDateString();
    </script>
  </div>

  <div>
    <h5 style="font-weight: 700; color: black;">Medication</h5>
    <!-- data goes here -->
    <ul id="ID5">
    </ul>>
    
  </div>

  <br>

  <% for (let currentConsult of consultations) { %>
    
    <% } %>
  <div>
    <h5 style="font-weight: 700; color: black;">Laboratory</h5>
    <!-- data goes here -->
    <ul id="ID6">
    </ul>>
    
  </div>

  <br>

  <div>
    <h5 style="font-weight: 700; color: black;">Notes</h5>
    <!-- data goes here -->
    <ul id="ID7">
    </ul>
    
  </div>

  <br>
  <br>

  <div class="container">
    <div class="content">
        <p><strong>Rafaela Flores, MD</strong>
          <br>License # 8529731
          <br>PTR # 6194285
        </p>
    </div>
</div>


  
  <hr style="height: 3px; border-width: 0; color: rgb(0, 0, 0); background-color: rgb(0, 0, 0)"/>

  <p style="font-size: x-small; color: black; text-align: center;">eReseta by STSWENG GROUP 2</p>

  <script>
    fetch('/api/data')
      .then(response => response.json())
      .then(data => {
        const ID1Span = document.getElementById('ID1');
        const ID2Span = document.getElementById('ID2');
        const ID3Span = document.getElementById('ID3');
        const ID4Span = document.getElementById('ID4');
        const ID5List = document.getElementById('ID5');
        const ID6List = document.getElementById('ID6');
        const ID7List = document.getElementById('ID7');

        // Assuming the fetched data is an array of objects with 'name', 'address', 'age', and 'sex' fields.
        ID1Span.textContent = data.name;
        ID2Span.textContent = data.address;
        ID3Span.textContent = data.age;
        ID4Span.textContent = data.sex;

        data.medication.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          ID5List.appendChild(li);
        });

        data.laboratory.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          ID6List.appendChild(li);
        });

        data.notes.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          ID7List.appendChild(li);
        });
      })
      .catch(error => console.error('Error fetching data:', error));
  </script>

</body>
</html>